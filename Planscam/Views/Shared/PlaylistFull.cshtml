@using Planscam.Extensions
@model Planscam.Entities.Playlist

@Html.DisplayForModel()

@Html.DrawHugePlaylistPic(Model.Picture)

@foreach (var track in Model.Tracks!)
{
    @await Html.PartialAsync("TrackInList", track)
}

@if (Model.IsLiked is { })
{
    @using (Model.IsLiked!.Value
        ? Html.BeginForm("UnlikePlaylist", "Playlists", FormMethod.Post)
        : Html.BeginForm("LikePlaylist", "Playlists", FormMethod.Post))
    {
        @Html.HiddenFor(model => model.Id)
        var returnUrl = Context.GetCurrentUrl();
        @Html.HiddenFor(_ => returnUrl)
        <input type="submit" value="@(Model.IsLiked.Value ? "---" : "+++")"/>
    }
}